!function(u,e){function r(i,r){return i="top"===i?"top":"left",r=u.isArray(r)?r:Array.prototype.slice.call(arguments,1),"webkit"===n?(s=[],t="top"===(t=i)?"0% 0%,0% 100%,":"0% 100%,100% 100%,",e=p(e=r),u.each(e,function(i,r){s.push("color-stop("+parseFloat(r.stop)/100+", "+r.color+")")}),"-webkit-gradient(linear,"+t+s.join(",")+")"):l[n]+"linear-gradient("+i+", "+r.join(", ")+")";var t,e,s}function p(i){var o=[],a=[],r=[],t=i.length-1;return u.each(i,function(i,r){var t=r,e=!1,s=r.match(/1?[0-9]{1,2}%$/);s&&(t=r.replace(/\s?1?[0-9]{1,2}%$/,""),e=s.shift()),o.push(t),a.push(e)}),!1===a[0]&&(a[0]="0%"),!1===a[t]&&(a[t]="100%"),a=function i(r){var t,e,s,o,a=0,n=r.length-1,l=0,c=!1;if(r.length<=2||u.inArray(!1,r)<0)return r;for(;l<r.length-1;)c||!1!==r[l]?c&&!1!==r[l]&&(n=l,l=r.length):(a=l-1,c=!0),l++;for(e=n-a,o=parseInt(r[a].replace("%"),10),t=(parseFloat(r[n].replace("%"))-o)/e,l=a+1,s=1;l<n;)r[l]=o+s*t+"%",s++,l++;return i(r)}(a),u.each(a,function(i){r[i]={color:o[i],stop:a[i]}}),r}var o,a,n,l,i,c,h,d;o='<div class="iris-picker"><div class="iris-picker-inner"><div class="iris-square"><a class="iris-square-value"><span class="iris-square-handle ui-slider-handle"></span></a><div class="iris-square-inner iris-square-horiz"></div><div class="iris-square-inner iris-square-vert"></div></div><div class="iris-slider iris-strip"><div class="iris-slider-offset"></div></div></div></div>','.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}',c=navigator.userAgent.toLowerCase(),h="Microsoft Internet Explorer"===navigator.appName,d=h?parseFloat(c.match(/msie ([0-9]{1,}[\.0-9]{0,})/)[1]):0,n=!1,l=["-moz-","-webkit-","-o-","-ms-"],(a=h&&d<10)&&d<=7?(u.fn.iris=u.noop,u.support.iris=!1):(u.support.iris=!0,u.fn.gradient=function(){var i=arguments;return this.each(function(){a?function(i,o){var a,r,n,l,c;i="top"===i?"top":"left",o=u.isArray(o)?o:Array.prototype.slice.call(arguments,1),a="top"===i?0:1,r=u(this),n=o.length-1,l='<div class="iris-ie-gradient-shim" style="position:absolute;'+(1===a?"height":"width")+":100%;"+(1===a?"left":"top")+":%start%;"+(1===a?"right":"bottom")+':%end%;filter:%filter%;" data-color:"%color%"></div>',c="","static"===r.css("position")&&r.css({position:"relative"}),o=p(o),u.each(o,function(i,r){var t,e,s;return i!==n&&(t=o[i+1],void(r.stop!==t.stop&&(e=100-parseFloat(t.stop)+"%",r.octoHex=new Color(r.color).toIEOctoHex(),t.octoHex=new Color(t.color).toIEOctoHex(),s="progid:DXImageTransform.Microsoft.Gradient(GradientType="+a+", StartColorStr='"+r.octoHex+"', EndColorStr='"+t.octoHex+"')",c+=l.replace("%start%",r.stop).replace("%end%",e).replace("%filter%",s))))}),r.find(".iris-ie-gradient-shim").remove(),u(c).prependTo(r)}.apply(this,i):u(this).css("backgroundImage",r.apply(this,i))})},i={options:{color:!(u.fn.raninbowGradient=function(i,r){var t,e,s,o;for(i=i||"top",e="hsl(%h%,"+(t=u.extend({},{s:100,l:50},r)).s+"%,"+t.l+"%)",s=0,o=[];s<=360;)o.push(e.replace("%h%",s)),s+=30;return this.each(function(){u(this).gradient(i,o)})}),mode:"hsl",controls:{horiz:"s",vert:"l",strip:"h"},hide:!0,border:!0,target:!1,width:200,palettes:!1},_color:"",_palettes:["#000","#fff","#d33","#d93","#ee2","#81d742","#1e73be","#8224e3"],_inited:!1,_defaultHSLControls:{horiz:"s",vert:"l",strip:"h"},_defaultHSVControls:{horiz:"h",vert:"v",strip:"s"},_scale:{h:360,s:100,l:100,v:100},_create:function(){var t,e,i=this,r=i.element,s=i.options.color||r.val();!1===n&&(e="backgroundImage",a?n="filter":(t=u('<div id="iris-gradtest" />'),u.each(l,function(i,r){return t.css(e,r+"linear-gradient(top,#fff,#000)"),t.css(e).match("gradient")?(n=i,!1):void 0}),!1===n&&(t.css("background","-webkit-gradient(linear,0% 0%,0% 100%,from(#fff),to(#000))"),t.css(e).match("gradient")&&(n="webkit")),t.remove())),r.is("input")?(i.picker=i.options.target?u(o).appendTo(i.options.target):u(o).insertAfter(r),i._addInputListeners(r)):(r.append(o),i.picker=r.find(".iris-picker")),h?9===d?i.picker.addClass("iris-ie-9"):d<=8&&i.picker.addClass("iris-ie-lt9"):c.indexOf("compatible")<0&&c.indexOf("khtml")<0&&c.match(/mozilla/)&&i.picker.addClass("iris-mozilla"),i.options.palettes&&i._addPalettes(),i._color=new Color(s).setHSpace(i.options.mode),i.options.color=i._color.toString(),i.controls={square:i.picker.find(".iris-square"),squareDrag:i.picker.find(".iris-square-value"),horiz:i.picker.find(".iris-square-horiz"),vert:i.picker.find(".iris-square-vert"),strip:i.picker.find(".iris-strip"),stripSlider:i.picker.find(".iris-strip .iris-slider-offset")},"hsv"===i.options.mode&&i._has("l",i.options.controls)?i.options.controls=i._defaultHSVControls:"hsl"===i.options.mode&&i._has("v",i.options.controls)&&(i.options.controls=i._defaultHSLControls),i.hue=i._color.h(),i.options.hide&&i.picker.hide(),i.options.border&&i.picker.addClass("iris-border"),i._initControls(),i.active="external",i._dimensions(),i._change()},_has:function(t,i){var e=!1;return u.each(i,function(i,r){return t===r?!(e=!0):void 0}),e},_addPalettes:function(){var t=u('<div class="iris-palette-container" />'),e=u('<a class="iris-palette" tabindex="0" />'),i=u.isArray(this.options.palettes)?this.options.palettes:this._palettes;this.picker.find(".iris-palette-container").length&&(t=this.picker.find(".iris-palette-container").detach().html("")),u.each(i,function(i,r){e.clone().data("color",r).css("backgroundColor",r).appendTo(t).height(10).width(10)}),this.picker.append(t)},_paint:function(){this._paintDimension("top","strip"),this._paintDimension("top","vert"),this._paintDimension("left","horiz")},_paintDimension:function(i,r){var t,e=this,s=e._color,o=e.options.mode,a=e._getHSpaceColor(),n=e.controls[r],l=e.options.controls;if(r!==e.active&&("square"!==e.active||"strip"===r))switch(l[r]){case"h":if("hsv"===o){switch(a=s.clone(),r){case"horiz":a[l.vert](100);break;case"vert":a[l.horiz](100);break;case"strip":a.setHSpace("hsl")}t=a.toHsl()}else t="strip"===r?{s:a.s,l:a.l}:{s:100,l:a.l};n.raninbowGradient(i,t);break;case"s":"hsv"===o?"vert"===r?t=[s.clone().a(0).s(0).toCSS("rgba"),s.clone().a(1).s(0).toCSS("rgba")]:"strip"===r?t=[s.clone().s(100).toCSS("hsl"),s.clone().s(0).toCSS("hsl")]:"horiz"===r&&(t=["#fff","hsl("+a.h+",100%,50%)"]):t="vert"===r&&"h"===e.options.controls.horiz?["hsla(0, 0%, "+a.l+"%, 0)","hsla(0, 0%, "+a.l+"%, 1)"]:["hsl("+a.h+",0%,50%)","hsl("+a.h+",100%,50%)"],n.gradient(i,t);break;case"l":t="strip"===r?["hsl("+a.h+",100%,100%)","hsl("+a.h+", "+a.s+"%,50%)","hsl("+a.h+",100%,0%)"]:["#fff","rgba(255,255,255,0) 50%","rgba(0,0,0,0) 50%","rgba(0,0,0,1)"],n.gradient(i,t);break;case"v":t="strip"===r?[s.clone().v(100).toCSS(),s.clone().v(0).toCSS()]:["rgba(0,0,0,0)","#000"],n.gradient(i,t)}},_getHSpaceColor:function(){return"hsv"===this.options.mode?this._color.toHsv():this._color.toHsl()},_dimensions:function(i){var r,t,e,s=this,o=s.options,a=s.controls.square,n=s.picker.find(".iris-strip"),l="77.5%",c="12%",p=o.border?o.width-20:o.width,h=u.isArray(o.palettes)?o.palettes.length:s._palettes.length;return i&&(a.css("width",""),n.css("width",""),s.picker.css({width:"",height:""})),l=p*(parseFloat(l)/100),c=p*(parseFloat(c)/100),r=o.border?l+20:l,a.width(l).height(l),n.height(l).width(c),s.picker.css({width:o.width,height:r}),o.palettes?(e=(l-(h-1)*(t=2*l/100))/h,s.picker.find(".iris-palette").each(function(i){var r=0===i?0:t;u(this).css({width:e,height:e,marginLeft:r})}),s.picker.css("paddingBottom",e+t),void n.height(e+t+l)):s.picker.css("paddingBottom","")},_addInputListeners:function(e){var s=this,i=function(i){var r=new Color(e.val()),t=e.val().replace(/^#/,"");e.removeClass("iris-error"),r.error?""!==t&&e.addClass("iris-error"):r.toString()!==s._color.toString()&&("keyup"===i.type&&t.match(/^[0-9a-fA-F]{3}$/)||s._setOption("color",r.toString()))};e.on("change",i).on("keyup",s._debounce(i,100)),s.options.hide&&e.one("focus",function(){s.show()})},_initControls:function(){var o=this,a=o.controls,i=a.square,t=o.options.controls,e=o._scale[t.strip];a.stripSlider.slider({orientation:"vertical",max:e,slide:function(i,r){o.active="strip","h"===t.strip&&(r.value=e-r.value),o._color[t.strip](r.value),o._change.apply(o,arguments)}}),a.squareDrag.draggable({containment:a.square.find(".iris-square-inner"),zIndex:1e3,cursor:"move",drag:function(i,r){o._squareDrag(i,r)},start:function(){i.addClass("iris-dragging"),u(this).addClass("ui-state-focus")},stop:function(){i.removeClass("iris-dragging"),u(this).removeClass("ui-state-focus")}}).on("mousedown mouseup",function(i){var r="ui-state-focus";i.preventDefault(),"mousedown"===i.type?(o.picker.find("."+r).removeClass(r).blur(),u(this).addClass(r).focus()):u(this).removeClass(r)}).on("keydown",function(i){var r=a.square,t=a.squareDrag,e=t.position(),s=o.options.width/100;switch(i.altKey&&(s*=10),i.keyCode){case 37:e.left-=s;break;case 38:e.top-=s;break;case 39:e.left+=s;break;case 40:e.top+=s;break;default:return!0}e.left=Math.max(0,Math.min(e.left,r.width())),e.top=Math.max(0,Math.min(e.top,r.height())),t.css(e),o._squareDrag(i,{position:e}),i.preventDefault()}),i.mousedown(function(i){var r,t;1===i.which&&u(i.target).is("div")&&(r=o.controls.square.offset(),t={top:i.pageY-r.top,left:i.pageX-r.left},i.preventDefault(),o._squareDrag(i,{position:t}),i.target=o.controls.squareDrag.get(0),o.controls.squareDrag.css(t).trigger(i))}),o.options.palettes&&o._paletteListeners()},_paletteListeners:function(){var i=this;i.picker.find(".iris-palette-container").on("click.palette",".iris-palette",function(){i._color.fromCSS(u(this).data("color")),i.active="external",i._change()}).on("keydown.palette",".iris-palette",function(i){return 13!==i.keyCode&&32!==i.keyCode||(i.stopPropagation(),void u(this).click())})},_squareDrag:function(i,r){var t=this,e=t.options.controls,s=t._squareDimensions(),o=Math.round((s.h-r.position.top)/s.h*t._scale[e.vert]),a=t._scale[e.horiz]-Math.round((s.w-r.position.left)/s.w*t._scale[e.horiz]);t._color[e.horiz](a)[e.vert](o),t.active="square",t._change.apply(t,arguments)},_setOption:function(i,r){var t,e,s=this,o=s.options[i],a=!1;switch(s.options[i]=r,i){case"color":(r=""+r).replace(/^#/,""),(t=new Color(r).setHSpace(s.options.mode)).error?s.options[i]=o:(s._color=t,s.options.color=s.options[i]=s._color.toString(),s.active="external",s._change());break;case"palettes":a=!0,r?s._addPalettes():s.picker.find(".iris-palette-container").remove(),o||s._paletteListeners();break;case"width":a=!0;break;case"border":a=!0,e=r?"addClass":"removeClass",s.picker[e]("iris-border");break;case"mode":case"controls":if(o===r)return;return e=s.element,(o=s.options).hide=!s.picker.is(":visible"),s.destroy(),s.picker.remove(),u(s.element).iris(o)}a&&s._dimensions(!0)},_squareDimensions:function(i){var r,t=this.controls.square;return i!==e&&t.data("dimensions")?t.data("dimensions"):(this.controls.squareDrag,r={w:t.width(),h:t.height()},t.data("dimensions",r),r)},_isNonHueControl:function(i,r){return"square"===i&&"h"===this.options.controls.strip||"external"!==r&&("h"!==r||"strip"!==i)},_change:function(){var o=this,a=o.controls,n=o._getHSpaceColor(),i=["square","strip"],l=o.options.controls,r=l[o.active]||"external",t=o.hue;"strip"===o.active?i=[]:"external"!==o.active&&i.pop(),u.each(i,function(i,r){var t,e,s;if(r!==o.active)switch(r){case"strip":t="h"===l.strip?o._scale[l.strip]-n[l.strip]:n[l.strip],a.stripSlider.slider("value",t);break;case"square":e=o._squareDimensions(),s={left:n[l.horiz]/o._scale[l.horiz]*e.w,top:e.h-n[l.vert]/o._scale[l.vert]*e.h},o.controls.squareDrag.css(s)}}),n.h!==t&&o._isNonHueControl(o.active,r)&&o._color.h(t),o.hue=o._color.h(),o.options.color=o._color.toString(),o._inited&&o._trigger("change",{type:o.active},{color:o._color}),o.element.is(":input")&&!o._color.error&&(o.element.removeClass("iris-error"),o.element.val()!==o._color.toString()&&o.element.val(o._color.toString())),o._paint(),o._inited=!0,o.active=!1},_debounce:function(s,o,a){var n,l;return function(){var i,r,t=this,e=arguments;return i=function(){n=null,a||(l=s.apply(t,e))},r=a&&!n,clearTimeout(n),n=setTimeout(i,o),r&&(l=s.apply(t,e)),l}},show:function(){this.picker.show()},hide:function(){this.picker.hide()},toggle:function(){this.picker.toggle()},color:function(i){return!0===i?this._color.clone():i===e?this._color.toString():void this.option("color",i)}},u.widget("a8c.iris",i),u('<style id="iris-css">.iris-picker{display:block;position:relative}.iris-picker,.iris-picker *{-moz-box-sizing:content-box;-webkit-box-sizing:content-box;box-sizing:content-box}input+.iris-picker{margin-top:4px}.iris-error{background-color:#ffafaf}.iris-border{border-radius:3px;border:1px solid #aaa;width:200px;background-color:#fff}.iris-picker-inner{position:absolute;top:0;right:0;left:0;bottom:0}.iris-border .iris-picker-inner{top:10px;right:10px;left:10px;bottom:10px}.iris-picker .iris-square-inner{position:absolute;left:0;right:0;top:0;bottom:0}.iris-picker .iris-square,.iris-picker .iris-slider,.iris-picker .iris-square-inner,.iris-picker .iris-palette{border-radius:3px;box-shadow:inset 0 0 5px rgba(0,0,0,.4);height:100%;width:12.5%;float:left;margin-right:5%}.iris-picker .iris-square{width:76%;margin-right:10%;position:relative}.iris-picker .iris-square-inner{width:auto;margin:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-square-inner,.iris-ie-9 .iris-palette{box-shadow:none;border-radius:0}.iris-ie-9 .iris-square,.iris-ie-9 .iris-slider,.iris-ie-9 .iris-palette{outline:1px solid rgba(0,0,0,.1)}.iris-ie-lt9 .iris-square,.iris-ie-lt9 .iris-slider,.iris-ie-lt9 .iris-square-inner,.iris-ie-lt9 .iris-palette{outline:1px solid #aaa}.iris-ie-lt9 .iris-square .ui-slider-handle{outline:1px solid #aaa;background-color:#fff;-ms-filter:"alpha(Opacity=30)"}.iris-ie-lt9 .iris-square .iris-square-handle{background:0;border:3px solid #fff;-ms-filter:"alpha(Opacity=50)"}.iris-picker .iris-strip{margin-right:0;position:relative}.iris-picker .iris-strip .ui-slider-handle{position:absolute;background:0;margin:0;right:-3px;left:-3px;border:4px solid #aaa;border-width:4px 3px;width:auto;height:6px;border-radius:4px;box-shadow:0 1px 2px rgba(0,0,0,.2);opacity:.9;z-index:5;cursor:ns-resize}.iris-strip .ui-slider-handle:before{content:" ";position:absolute;left:-2px;right:-2px;top:-3px;bottom:-3px;border:2px solid #fff;border-radius:3px}.iris-picker .iris-slider-offset{position:absolute;top:11px;left:0;right:0;bottom:-3px;width:auto;height:auto;background:transparent;border:0;border-radius:0}.iris-picker .iris-square-handle{background:transparent;border:5px solid #aaa;border-radius:50%;border-color:rgba(128,128,128,.5);box-shadow:none;width:12px;height:12px;position:absolute;left:-10px;top:-10px;cursor:move;opacity:1;z-index:10}.iris-picker .ui-state-focus .iris-square-handle{opacity:.8}.iris-picker .iris-square-handle:hover{border-color:#999}.iris-picker .iris-square-value:focus .iris-square-handle{box-shadow:0 0 2px rgba(0,0,0,.75);opacity:.8}.iris-picker .iris-square-handle:hover::after{border-color:#fff}.iris-picker .iris-square-handle::after{position:absolute;bottom:-4px;right:-4px;left:-4px;top:-4px;border:3px solid #f9f9f9;border-color:rgba(255,255,255,.8);border-radius:50%;content:" "}.iris-picker .iris-square-value{width:8px;height:8px;position:absolute}.iris-ie-lt9 .iris-square-value,.iris-mozilla .iris-square-value{width:1px;height:1px}.iris-palette-container{position:absolute;bottom:0;left:0;margin:0;padding:0}.iris-border .iris-palette-container{left:10px;bottom:10px}.iris-picker .iris-palette{margin:0;cursor:pointer}.iris-square-handle,.ui-slider-handle{border:0;outline:0}</style>').appendTo("head"))}(jQuery),function(i,u){var a=function(i,r){return this instanceof a?this._init(i,r):new a(i,r)};a.fn=a.prototype={_color:0,_alpha:1,error:!1,_hsl:{h:0,s:0,l:0},_hsv:{h:0,s:0,v:0},_hSpace:"hsl",_init:function(i){var r="noop";switch(typeof i){case"object":return i.a!==u&&this.a(i.a),this[r=i.r!==u?"fromRgb":i.l!==u?"fromHsl":i.v!==u?"fromHsv":r](i);case"string":return this.fromCSS(i);case"number":return this.fromInt(parseInt(i,10))}return this},_error:function(){return this.error=!0,this},clone:function(){for(var i=new a(this.toInt()),r=["_alpha","_hSpace","_hsl","_hsv","error"],t=r.length-1;0<=t;t--)i[r[t]]=this[r[t]];return i},setHSpace:function(i){return this._hSpace="hsv"===i?i:"hsl",this},noop:function(){return this},fromCSS:function(i){var r,t=/^(rgb|hs(l|v))a?\(/;if(this.error=!1,(i=i.replace(/^\s+/,"").replace(/\s+$/,"").replace(/;$/,"")).match(t)&&i.match(/\)$/)){if((r=i.replace(/(\s|%)/g,"").replace(t,"").replace(/,?\);?$/,"").split(",")).length<3)return this._error();if(4===r.length&&(this.a(parseFloat(r.pop())),this.error))return this;for(var e=r.length-1;0<=e;e--)if(r[e]=parseInt(r[e],10),isNaN(r[e]))return this._error();return i.match(/^rgb/)?this.fromRgb({r:r[0],g:r[1],b:r[2]}):i.match(/^hsv/)?this.fromHsv({h:r[0],s:r[1],v:r[2]}):this.fromHsl({h:r[0],s:r[1],l:r[2]})}return this.fromHex(i)},fromRgb:function(i,r){return"object"!=typeof i||i.r===u||i.g===u||i.b===u?this._error():(this.error=!1,this.fromInt(parseInt((i.r<<16)+(i.g<<8)+i.b,10),r))},fromHex:function(i){return 3===(i=i.replace(/^#/,"").replace(/^0x/,"")).length&&(i=i[0]+i[0]+i[1]+i[1]+i[2]+i[2]),this.error=!/^[0-9A-F]{6}$/i.test(i),this.fromInt(parseInt(i,16))},fromHsl:function(i){var r,t,e,s,o,a,n,l;return"object"!=typeof i||i.h===u||i.s===u||i.l===u?this._error():(this._hsl=i,this._hSpace="hsl",a=i.h/360,n=i.s/100,l=i.l/100,0===n?r=t=e=l:(o=2*l-(s=l<.5?l*(1+n):l+n-l*n),r=this.hue2rgb(o,s,a+1/3),t=this.hue2rgb(o,s,a),e=this.hue2rgb(o,s,a-1/3)),this.fromRgb({r:255*r,g:255*t,b:255*e},!0))},fromHsv:function(i){var r,t,e,s,o,a,n,l,c,p,h;if("object"!=typeof i||i.h===u||i.s===u||i.v===u)return this._error();switch(this._hsv=i,this._hSpace="hsv",r=i.h/360,t=i.s/100,c=(e=i.v/100)*(1-t),p=e*(1-(l=6*r-(n=Math.floor(6*r)))*t),h=e*(1-(1-l)*t),n%6){case 0:s=e,o=h,a=c;break;case 1:s=p,o=e,a=c;break;case 2:s=c,o=e,a=h;break;case 3:s=c,o=p,a=e;break;case 4:s=h,o=c,a=e;break;case 5:s=e,o=c,a=p}return this.fromRgb({r:255*s,g:255*o,b:255*a},!0)},fromInt:function(i,r){return this._color=parseInt(i,10),isNaN(this._color)&&(this._color=0),16777215<this._color?this._color=16777215:this._color<0&&(this._color=0),r===u&&(this._hsv.h=this._hsv.s=this._hsl.h=this._hsl.s=0),this},hue2rgb:function(i,r,t){return t<0&&(t+=1),1<t&&(t-=1),t<1/6?i+6*(r-i)*t:t<.5?r:t<2/3?i+6*(r-i)*(2/3-t):i},toString:function(){var i=parseInt(this._color,10).toString(16);if(this.error)return"";if(i.length<6)for(var r=6-i.length-1;0<=r;r--)i="0"+i;return"#"+i},toCSS:function(i,r){switch(i=i||"hex",r=parseFloat(r||this._alpha),i){case"rgb":case"rgba":var t=this.toRgb();return r<1?"rgba( "+t.r+", "+t.g+", "+t.b+", "+r+" )":"rgb( "+t.r+", "+t.g+", "+t.b+" )";case"hsl":case"hsla":var e=this.toHsl();return r<1?"hsla( "+e.h+", "+e.s+"%, "+e.l+"%, "+r+" )":"hsl( "+e.h+", "+e.s+"%, "+e.l+"% )";default:return this.toString()}},toRgb:function(){return{r:255&this._color>>16,g:255&this._color>>8,b:255&this._color}},toHsl:function(){var i,r,t=this.toRgb(),e=t.r/255,s=t.g/255,o=t.b/255,a=Math.max(e,s,o),n=Math.min(e,s,o),l=(a+n)/2;if(a===n)i=r=0;else{var c=a-n;switch(r=.5<l?c/(2-a-n):c/(a+n),a){case e:i=(s-o)/c+(s<o?6:0);break;case s:i=(o-e)/c+2;break;case o:i=(e-s)/c+4}i/=6}return 0===(i=Math.round(360*i))&&this._hsl.h!==i&&(i=this._hsl.h),0===(r=Math.round(100*r))&&this._hsl.s&&(r=this._hsl.s),{h:i,s:r,l:Math.round(100*l)}},toHsv:function(){var i,r,t=this.toRgb(),e=t.r/255,s=t.g/255,o=t.b/255,a=Math.max(e,s,o),n=Math.min(e,s,o),l=a,c=a-n;if(r=0===a?0:c/a,a===n)i=r=0;else{switch(a){case e:i=(s-o)/c+(s<o?6:0);break;case s:i=(o-e)/c+2;break;case o:i=(e-s)/c+4}i/=6}return 0===(i=Math.round(360*i))&&this._hsv.h!==i&&(i=this._hsv.h),0===(r=Math.round(100*r))&&this._hsv.s&&(r=this._hsv.s),{h:i,s:r,v:Math.round(100*l)}},toInt:function(){return this._color},toIEOctoHex:function(){var i=this.toString(),r=parseInt(255*this._alpha,10).toString(16);return 1===r.length&&(r="0"+r),"#"+r+i.replace(/^#/,"")},toLuminosity:function(){var i=this.toRgb();return.2126*Math.pow(i.r/255,2.2)+.7152*Math.pow(i.g/255,2.2)+.0722*Math.pow(i.b/255,2.2)},getDistanceLuminosityFrom:function(i){if(!(i instanceof a))throw"getDistanceLuminosityFrom requires a Color object";var r=this.toLuminosity(),t=i.toLuminosity();return t<r?(r+.05)/(t+.05):(t+.05)/(r+.05)},getMaxContrastColor:function(){var i=this.toLuminosity();return new a(.5<=i?"000000":"ffffff")},getReadableContrastingColor:function(i,r){if(!i instanceof a)return this;var t=r===u?5:r,e=i.getDistanceLuminosityFrom(this),s=i.getMaxContrastColor();if(s.getDistanceLuminosityFrom(i)<=t)return s;if(t<=e)return this;for(var o=0===s.toInt()?-1:1;e<t&&(this.l(o,!0),e=this.getDistanceLuminosityFrom(i),0!==this._color&&16777215!==this._color););return this},a:function(i){if(i===u)return this._alpha;var r=parseFloat(i);return isNaN(r)?this._error():(this._alpha=r,this)},darken:function(i){return i=i||5,this.l(-i,!0)},lighten:function(i){return i=i||5,this.l(i,!0)},saturate:function(i){return i=i||15,this.s(i,!0)},desaturate:function(i){return i=i||15,this.s(-i,!0)},toGrayscale:function(){return this.setHSpace("hsl").s(0)},getComplement:function(){return this.h(180,!0)},getSplitComplement:function(i){var r=180+30*(i=i||1);return this.h(r,!0)},getAnalog:function(i){var r=30*(i=i||1);return this.h(r,!0)},getTetrad:function(i){var r=60*(i=i||1);return this.h(r,!0)},getTriad:function(i){var r=120*(i=i||1);return this.h(r,!0)},_partial:function(e){var s=r[e];return function(i,r){var t=this._spaceFunc("to",s.space);return i===u?t[e]:(!0===r&&(i=t[e]+i),s.mod&&(i%=s.mod),s.range&&(i=i<s.range[0]?s.range[0]:i>s.range[1]?s.range[1]:i),t[e]=i,this._spaceFunc("from",s.space,t))}},_spaceFunc:function(i,r,t){var e=r||this._hSpace;return this[i+e.charAt(0).toUpperCase()+e.substr(1)](t)}};var r={h:{mod:360},s:{range:[0,100]},l:{space:"hsl",range:[0,100]},v:{space:"hsv",range:[0,100]},r:{space:"rgb",range:[0,255]},g:{space:"rgb",range:[0,255]},b:{space:"rgb",range:[0,255]}};for(var t in r)r.hasOwnProperty(t)&&(a.fn[t]=a.fn._partial(t));"object"==typeof exports?module.exports=a:i.Color=a}(this),function(n,e,i,r){"use strict";void 0!==typeof Color.fn.toString&&(Color.fn.toString=function(){if(this._alpha<1)return this.toCSS("rgba",this._alpha).replace(/\s+/g,"");var i=parseInt(this._color,10).toString(16);if(this.error)return"";if(i.length<6)for(var r=6-i.length-1;0<=r;r--)i="0"+i;return"#"+i}),n.cs_ParseColorValue=function(i){var r=i.replace(/\s+/g,""),t=-1!==r.indexOf("rgba")?parseFloat(100*r.replace(/^.*,(.+)\)/,"$1")):100;return{value:r,alpha:t,rgba:t<100}},n.fn.cs_iris=function(i){return this.each(function(){var o=n(this);if("color"==i)return o.iris(i),!1;if(!1!==o.data("rgba")){var a=n.cs_ParseColorValue(o.val());o.iris({hide:i.hide,width:parseFloat(i.width),change:function(i,r){var t=r.color.toString();o.parent().find(".wqminicolors-swatch-color").add(o.next(".iris-picker").find(".cs-alpha-slider-offset")).css("background-color",t),e.iris_global_change_callback(i,r)},create:function(){var e=o.data("a8cIris"),i=o.next(".iris-picker"),r=n('<div class="cs-alpha-wrap"><div class="cs-alpha-slider"></div><div class="cs-alpha-slider-offset"></div></div>').appendTo(i.find(".iris-picker-inner")),t=r.find(".cs-alpha-slider"),s=r.find(".cs-alpha-slider-offset");t.slider({slide:function(i,r){var t=parseFloat(r.value/100);e._color._alpha=t,o.iris("color",e._color.toString())},change:function(i,r){i.originalEvent&&o.trigger("change")},create:function(){parseFloat(a.alpha/100);s.css("background-color",a.value)},value:a.alpha,step:1,min:1,max:100})}})}else o.iris(i)})}}(jQuery,window,document);